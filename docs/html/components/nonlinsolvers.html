<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Problem APIs" href="nonlinsolvers_system_api.html" /><link rel="prev" title="linear solvers" href="linsolvers.html" />

    <meta name="generator" content="sphinx-4.3.2, furo 2022.01.02"/>
        <title>nonlinear solvers - Pressio 0.12.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=df49af52631e7917044a9c21a57f7b83170a6dd0" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=fade93df149f7c5fedb3ff897f799dc7d283b420" />
    <link rel="stylesheet" type="text/css" href="../_static/hacks.css" />
    
    


<style>
  body {
    --color-code-background: #002b36;
  --color-code-foreground: #839496;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" />
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Pressio 0.12.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Pressio 0.12.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation and Dependencies</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Pressio/pressio">GitHub Repo</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Pressio/pressio/issues">Open an issue/feature req.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpl.html"><code class="docutils literal notranslate"><span class="pre">mpl</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html"><code class="docutils literal notranslate"><span class="pre">utils</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="type_traits.html"><code class="docutils literal notranslate"><span class="pre">type_traits</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="expressions.html"><code class="docutils literal notranslate"><span class="pre">expressions</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="ops.html"><code class="docutils literal notranslate"><span class="pre">ops</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="qr.html"><code class="docutils literal notranslate"><span class="pre">qr</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="linsolvers.html"><code class="docutils literal notranslate"><span class="pre">linear</span> <span class="pre">solvers</span></code></a></li>
<li class="toctree-l1 current has-children current-page"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">nonlinear</span> <span class="pre">solvers</span></code></a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_system_api.html">Problem APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_nr.html">Newton-Raphson</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_gn.html">Gauss-Newton</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_lm.html">Levenberg-Marquardt</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_irls.html">Iteratively reweighted least squares</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="ode.html"><code class="docutils literal notranslate"><span class="pre">ode</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="ode_steppers_explicit.html">explicit steppers</a></li>
<li class="toctree-l2"><a class="reference internal" href="ode_steppers_implicit_conttime.html">implicit steppers (continouos-time systems)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ode_steppers_implicit_disctime.html">implicit steppers (discrete-time systems)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ode_advance.html">advancers</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="rom.html"><code class="docutils literal notranslate"><span class="pre">rom</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="rom_general.html">General info</a></li>
<li class="toctree-l2"><a class="reference internal" href="rom_fom_apis.html">Full-order model (FOM) adapter API</a></li>
<li class="toctree-l2"><a class="reference internal" href="rom_decoder.html">Decoder</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="rom_galerkin.html">Galerkin: high-level details</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="rom_galerkin_default.html">Default problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="rom_galerkin_hypred.html">Hyper-reduced problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="rom_galerkin_masked.html">Masked problem</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="rom_lspg_steady.html">Steady LSPG</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="rom_lspg_default_steady.html">Steady default problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="rom_lspg_hypred_steady.html">Steady hyper-reduced problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="rom_lspg_masked_steady.html">Steady masked problem</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="rom_lspg_unsteady.html">Unsteady LSPG</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="rom_lspg_default.html">Unsteady default problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="rom_lspg_hypred.html">Hyper-reduced problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="rom_lspg_masked.html">Masked problem</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rom_wls.html">WLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="rom_hyperreduction.html">Hyperreduction</a></li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="nonlinear-solvers">
<h1><code class="docutils literal notranslate"><span class="pre">nonlinear</span> <span class="pre">solvers</span></code><a class="headerlink" href="#nonlinear-solvers" title="Permalink to this headline">¶</a></h1>
<p>Header <code class="docutils literal notranslate"><span class="pre">&lt;pressio/solvers_nonlinear.hpp&gt;</span></code></p>
<p>Public namespace: <code class="docutils literal notranslate"><span class="pre">pressio::nonlinearsolvers</span></code></p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The pressio nonlinear solvers have been developed from the ground up using generic programming.
It is intended to be a library that can be used independently and with support for arbitrary data types.
It is not fully complete, and it can obviously be extended.
If you are interested in contributing or you need other methods, open an issue and/or PR.</p>
<p>Currently, we support the following algorithms:</p>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 33%"/>
<col style="width: 33%"/>
<col style="width: 33%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Doc</p></th>
<th class="head"><p>Purpose:</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Newton-Raphson</p></td>
<td><p><a class="reference external" href="nonlinsolvers_nr.html">Link</a></p></td>
<td><p>Systems of nonlinear equations (see e.g. <a class="reference external" href="https://link.springer.com/content/pdf/bbm%3A978-3-319-69407-8%2F1.pdf">link</a>, <a class="reference external" href="https://www.cmu.edu/math/undergrad/suami/pdfs/2014_newton_method.pdf">link</a> )</p></td>
</tr>
<tr class="row-odd"><td><p>Gauss-Newton</p></td>
<td><p><a class="reference external" href="nonlinsolvers_gn.html">Link</a></p></td>
<td><p>Nonlinear least-squares problem.            (see <a class="reference external" href="https://en.wikipedia.org/wiki/Gauss%E2%80%93Newton_algorithm">link</a> )</p></td>
</tr>
<tr class="row-even"><td><p>Levenberg–Marquardt</p></td>
<td><p><a class="reference external" href="nonlinsolvers_lm.html">Link</a></p></td>
<td><p>Nonlinear least-squares problem.             (see <a class="reference external" href="https://en.wikipedia.org/wiki/Levenberg%E2%80%93Marquardt_algorithm">link</a> )</p></td>
</tr>
<tr class="row-odd"><td><p>Iteratively reweighted least squares (irls)</p></td>
<td><p><a class="reference external" href="nonlinsolvers_irls.html">Link</a></p></td>
<td><p>optimization problem formulated in a p-norm (see <a class="reference external" href="https://en.wikipedia.org/wiki/Iteratively_reweighted_least_squares">link</a> )</p></td>
</tr>
</tbody>
</table></div>
</div>
<div class="section" id="a-glimpse-of-the-api">
<h2>A glimpse of the API<a class="headerlink" href="#a-glimpse-of-the-api" title="Permalink to this headline">¶</a></h2>
<p>To create a solver, we expose specific factory functions for each algorithm.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="n">pnonls</span> <span class="o">=</span> <span class="n">pressio</span><span class="o">::</span><span class="n">nonlinearsolvers</span><span class="p">;</span>
<span class="k">auto</span> <span class="n">solver</span> <span class="o">=</span> <span class="n">pnonls</span><span class="o">::</span><span class="n">create_newton_raphson</span><span class="p">(....);</span>
<span class="k">auto</span> <span class="n">solver</span> <span class="o">=</span> <span class="n">pnonls</span><span class="o">::</span><span class="n">create_gauss_newton</span><span class="p">(....);</span>
</pre></div>
</div>
<p>Please refer to each method’s documentation for the details on the API and arguments.</p>
</div>
<div class="section" id="what-are-you-responsible-of">
<h2>What are you responsible of?<a class="headerlink" href="#what-are-you-responsible-of" title="Permalink to this headline">¶</a></h2>
<p>If you want to use the pressio nonlinear solvers, you are responsible of:</p>
<ul class="simple">
<li><p>A: providing a problem object</p></li>
<li><p>B: selecting (if needed) the convergence criterion</p></li>
<li><p>C: selecting (if needed) the update method</p></li>
</ul>
<div class="section" id="a-problem-class">
<h3>A: problem class<a class="headerlink" href="#a-problem-class" title="Permalink to this headline">¶</a></h3>
<p>The problem class is what you use to <em>define your problem</em>.
An instance of a problem class is what you provide to pressio to
compute the needed operators to operate on. Obivously, this problem class must meet a specific API.</p>
<p>The pressio nonlinear solvers define four main types of problem APIs,
namely the “residual-jacobian”, “fused residual-jacobian”, “hessian-gradient” ,
and “fused hessian-gradient”.
These problem concepts are discussed on <a class="reference external" href="nonlinsolvers_system_api.html">this page</a>.
Depending on which concepts your problem meets, you can access certain algorithms but not
necessarily others.
The following table helps clarifying the problem API/algorithms admissibility:</p>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Algorithm</p></th>
<th class="head"><p>Residual-Jacobian API</p></th>
<th class="head"><p>Fused Residual-Jacobian API</p></th>
<th class="head"><p>Hessian-Gradient API</p></th>
<th class="head"><p>Fused Hessian-Gradient API</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Newton-Raphson</p></td>
<td><p><span class="raw-html-m2r">          ✓</span></p></td>
<td><p><span class="raw-html-m2r">          ✓</span></p></td>
<td><p><span class="raw-html-m2r">           -</span></p></td>
<td><p><span class="raw-html-m2r">           -</span></p></td>
</tr>
<tr class="row-odd"><td><p>Gauss-Newton via Normal-Equations</p></td>
<td><p><span class="raw-html-m2r">          ✓</span></p></td>
<td><p><span class="raw-html-m2r">          ✓</span></p></td>
<td><p><span class="raw-html-m2r">          ✓</span></p></td>
<td><p><span class="raw-html-m2r">          ✓</span></p></td>
</tr>
<tr class="row-even"><td><p>Gauss-Newton via QR</p></td>
<td><p><span class="raw-html-m2r">          ✓</span></p></td>
<td><p><span class="raw-html-m2r">          ✓</span></p></td>
<td><p><span class="raw-html-m2r">           -</span></p></td>
<td><p><span class="raw-html-m2r">           -</span></p></td>
</tr>
<tr class="row-odd"><td><p>Levenberg-Marquardt</p></td>
<td><p><span class="raw-html-m2r">          ✓</span></p></td>
<td><p><span class="raw-html-m2r">          ✓</span></p></td>
<td><p><span class="raw-html-m2r">          ✓</span></p></td>
<td><p><span class="raw-html-m2r">          ✓</span></p></td>
</tr>
<tr class="row-even"><td><p>irls</p></td>
<td><p><span class="raw-html-m2r">          ✓</span></p></td>
<td><p><span class="raw-html-m2r">          ✓</span></p></td>
<td><p><span class="raw-html-m2r">           -</span></p></td>
<td><p><span class="raw-html-m2r">           -</span></p></td>
</tr>
</tbody>
</table></div>
<p>Please refer to each method’s documentation for the details on how you provide
a problem instance to pressio.</p>
</div>
<div class="section" id="b-convergence-and-tolerance">
<h3>B: Convergence and tolerance<a class="headerlink" href="#b-convergence-and-tolerance" title="Permalink to this headline">¶</a></h3>
<p>The convergence criterion and associated tolerance are used to decide
why and when the solver needs to terminate.
We currently support these termination criteria:</p>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 33%"/>
<col style="width: 33%"/>
<col style="width: 33%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Enum value</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Currently supported for:</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Stop::AfterMaxIters</span></code></p></td>
<td><p>self-explanatory</p></td>
<td><p>all algorithms</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Stop::WhenCorrectionAbsoluteNormBelowTolerance</span></code></p></td>
<td><p>self-explanatory</p></td>
<td><p>all algorithms</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Stop::WhenCorrectionRelativeNormBelowTolerance</span></code></p></td>
<td><p>self-explanatory</p></td>
<td><p>all algorithms</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Stop::WhenResidualAbsoluteNormBelowTolerance</span></code></p></td>
<td><p>self-explanatory</p></td>
<td><p>all algorithms</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Stop::WhenResidualRelativeNormBelowTolerance</span></code></p></td>
<td><p>self-explanatory</p></td>
<td><p>all algorithms</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Stop::WhenGradientAbsoluteNormBelowTolerance</span></code></p></td>
<td><p>self-explanatory</p></td>
<td><p>least-squares solvers</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Stop::WhenGradientRelativeNormBelowTolerance</span></code></p></td>
<td><p>self-explanatory</p></td>
<td><p>least-squares solvers</p></td>
</tr>
</tbody>
</table></div>
<p>which you set/query using the following methods:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solver</span><span class="p">{</span>
  <span class="p">...</span>

  <span class="c1">// set/query stopping criterion</span>
  <span class="kt">void</span> <span class="n">setStoppingCriterion</span><span class="p">(</span><span class="n">Stop</span> <span class="n">value</span><span class="p">);</span>
  <span class="n">Stop</span> <span class="nf">stoppingCriterion</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

  <span class="c1">// set/query max number of iterations</span>
  <span class="kt">void</span> <span class="nf">setMaxIterations</span><span class="p">(</span><span class="n">iteration_type</span> <span class="n">maxIters</span><span class="p">);</span>
  <span class="n">iteration_type</span> <span class="nf">maxIterations</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

  <span class="c1">// this is used to set a single tol for all</span>
  <span class="kt">void</span> <span class="nf">setTolerance</span><span class="p">(</span><span class="n">scalar_type</span> <span class="n">tolerance</span><span class="p">){</span> <span class="n">tolerances_</span><span class="p">.</span><span class="n">fill</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">tolerance</span><span class="p">));</span> <span class="p">}</span>

  <span class="c1">// finer-grained methods for setting tolerances</span>
  <span class="kt">void</span> <span class="nf">setCorrectionAbsoluteTolerance</span><span class="p">(</span><span class="n">scalar_type</span> <span class="n">value</span><span class="p">);</span>
  <span class="kt">void</span> <span class="nf">setCorrectionRelativeTolerance</span><span class="p">(</span><span class="n">scalar_type</span> <span class="n">value</span><span class="p">);</span>
  <span class="kt">void</span> <span class="nf">setResidualAbsoluteTolerance</span><span class="p">(</span><span class="n">scalar_type</span> <span class="n">value</span><span class="p">);</span>
  <span class="kt">void</span> <span class="nf">setResidualRelativeTolerance</span><span class="p">(</span><span class="n">scalar_type</span> <span class="n">value</span><span class="p">);</span>
  <span class="kt">void</span> <span class="nf">setGradientAbsoluteTolerance</span><span class="p">(</span><span class="n">scalar_type</span> <span class="n">value</span><span class="p">);</span>
  <span class="kt">void</span> <span class="nf">setGradientRelativeTolerance</span><span class="p">(</span><span class="n">scalar_type</span> <span class="n">value</span><span class="p">);</span>

  <span class="c1">// querying tolerances</span>
  <span class="n">scalar_type</span> <span class="nf">correctionAbsoluteTolerance</span><span class="p">()</span><span class="k">const</span><span class="p">;</span>
  <span class="n">scalar_type</span> <span class="nf">correctionRelativeTolerance</span><span class="p">()</span><span class="k">const</span><span class="p">;</span>
  <span class="n">scalar_type</span> <span class="nf">residualAbsoluteTolerance</span><span class="p">()</span><span class="k">const</span><span class="p">;</span>
  <span class="n">scalar_type</span> <span class="nf">residualRelativeTolerance</span><span class="p">()</span><span class="k">const</span><span class="p">;</span>
  <span class="n">scalar_type</span> <span class="nf">gradientAbsoluteTolerance</span><span class="p">()</span><span class="k">const</span><span class="p">;</span>
  <span class="n">scalar_type</span> <span class="nf">gradientRelativeTolerance</span><span class="p">()</span><span class="k">const</span><span class="p">;</span>
  <span class="p">...</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="c-setting-the-update">
<h3>C: Setting the update<a class="headerlink" href="#c-setting-the-update" title="Permalink to this headline">¶</a></h3>
<p>The update stage represents the <em>how</em> the current correction term is combined
with state to update the latter. We currently support the following:</p>
<div class="table-wrapper"><table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%"/>
<col style="width: 25%"/>
<col style="width: 25%"/>
<col style="width: 30%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Enum value</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Currently supported for:</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Default</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Update::Standard</span></code></p></td>
<td><p><span class="math notranslate nohighlight">\(x\ *{n+1} = x*\ {n} + \lambda_{n}\)</span></p></td>
<td><p>all algorithms</p></td>
</tr>
<tr class="row-odd"><td><p>Armijo</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Update::Armijo</span></code></p></td>
<td><p><a href="#id9"><span class="problematic" id="id10">`see this &lt;&gt;`_</span></a></p></td>
<td><p>Gauss-Newton</p></td>
</tr>
<tr class="row-even"><td><p>LM-schedule1</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Update::LMSchedule1</span></code></p></td>
<td><p><a href="#id11"><span class="problematic" id="id12">`see this &lt;&gt;`_</span></a></p></td>
<td><p>Levenberg–Marquardt</p></td>
</tr>
<tr class="row-odd"><td><p>LM-schedule2</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Update::LMSchedule2</span></code></p></td>
<td><p><a href="#id13"><span class="problematic" id="id14">`see this &lt;&gt;`_</span></a></p></td>
<td><p>Levenberg–Marquardt</p></td>
</tr>
</tbody>
</table></div>
<p>where <span class="math notranslate nohighlight">\(\lambda_{n}\)</span> is the correction computed at the n-th iteration of the solver.</p>
<p>To set or query the update method, you use the following methods of the solver class:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Solver</span><span class="p">{</span>
  <span class="p">...</span>
  <span class="kt">void</span> <span class="n">setUpdatingCriterion</span><span class="p">(</span><span class="n">Update</span> <span class="n">value</span><span class="p">);</span>
  <span class="n">Update</span> <span class="nf">updatingCriterion</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
  <span class="p">...</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="default-settings">
<h2>Default Settings<a class="headerlink" href="#default-settings" title="Permalink to this headline">¶</a></h2>
<p>By default, a nonlinear solver uses:</p>
<ul class="simple">
<li><p>update: <code class="docutils literal notranslate"><span class="pre">Update::Standard</span></code>;</p></li>
<li><p>stopping: <code class="docutils literal notranslate"><span class="pre">Stop::WhenCorrectionAbsoluteNormBelowTolerance</span></code>;</p></li>
<li><p>max number of iterations = 100</p></li>
<li><p>tolerance = 0.000001 (for everything)</p></li>
</ul>
</div>
<div class="section" id="a-note-on-the-solvers-design">
<h2>A note on the solvers’ design<a class="headerlink" href="#a-note-on-the-solvers-design" title="Permalink to this headline">¶</a></h2>
<p>If you are interested, here we provide a brief note describing the our design idea.
The design of the nonlinear solvers has been based on recognizing that, at a very high level,
a nonlinear solver operates by repeatedly updating a given “state” until a certain criterion is met,
and each “iteration” involves the following stages:</p>
<ul class="simple">
<li><p>A: computing/updating the operators</p></li>
<li><p>B: computing the new correction term</p></li>
<li><p>C: assessing convergence</p></li>
<li><p>D: updating the state using the correction</p></li>
</ul>
<p>This view forms the basis of our design approach: when a solver object is instantiated,
depending on the chosen algorithm, pressio behind the scenes instantiates the proper
classes needed for each of the stages above,
and properly composes them to instantiate the desired solver object.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="nonlinsolvers_system_api.html">Problem APIs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_system_api.html#residual-jacobian-api">Residual-Jacobian API</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_system_api.html#hessian-gradient-api">Hessian-Gradient API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nonlinsolvers_nr.html">Newton-Raphson</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_nr.html#api-parameters-and-requirements">API, Parameters and Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_nr.html#ops">Ops</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_nr.html#example-usage">Example usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nonlinsolvers_gn.html">Gauss-Newton</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_gn.html#gauss-newton-via-normal-equations">Gauss-Newton via Normal-Equations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nonlinsolvers_gn.html#api-parameters-and-requirements">API, Parameters and Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="nonlinsolvers_gn.html#ops">Ops</a></li>
<li class="toctree-l3"><a class="reference internal" href="nonlinsolvers_gn.html#example-usage">Example usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_gn.html#gauss-newton-via-qr-factorization">Gauss-Newton via QR factorization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nonlinsolvers_gn.html#id2">API, Parameters and Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="nonlinsolvers_gn.html#id4">Ops</a></li>
<li class="toctree-l3"><a class="reference internal" href="nonlinsolvers_gn.html#id5">Example usage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nonlinsolvers_lm.html">Levenberg-Marquardt</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_lm.html#levenbergmarquardt">Levenberg–Marquardt</a><ul>
<li class="toctree-l3"><a class="reference internal" href="nonlinsolvers_lm.html#api-parameters-and-requirements">API, Parameters and Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="nonlinsolvers_lm.html#ops">Ops</a></li>
<li class="toctree-l3"><a class="reference internal" href="nonlinsolvers_lm.html#example-usage">Example usage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nonlinsolvers_irls.html">Iteratively reweighted least squares</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_irls.html#api-parameters-and-requirements">API, Parameters and Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_irls.html#ops">Ops</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_irls.html#example-usage">Example usage</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="nonlinsolvers_system_api.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Problem APIs</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="linsolvers.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><code class="docutils literal notranslate"><span class="pre">linear</span> <span class="pre">solvers</span></code></div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, National Technology &amp; Engineering Solutions of Sandia, LLC (NTESS) |
          Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
          <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            | <a class="muted-link" href="../_sources/components/nonlinsolvers.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">nonlinear</span> <span class="pre">solvers</span></code></a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#a-glimpse-of-the-api">A glimpse of the API</a></li>
<li><a class="reference internal" href="#what-are-you-responsible-of">What are you responsible of?</a><ul>
<li><a class="reference internal" href="#a-problem-class">A: problem class</a></li>
<li><a class="reference internal" href="#b-convergence-and-tolerance">B: Convergence and tolerance</a></li>
<li><a class="reference internal" href="#c-setting-the-update">C: Setting the update</a></li>
</ul>
</li>
<li><a class="reference internal" href="#default-settings">Default Settings</a></li>
<li><a class="reference internal" href="#a-note-on-the-solvers-design">A note on the solvers’ design</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>