<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Default problem" href="rom_galerkin_default.html" /><link rel="prev" title="Decoder" href="rom_decoder.html" />

    <meta name="generator" content="sphinx-4.3.2, furo 2022.01.02"/>
        <title>Galerkin: high-level details - Pressio 0.12.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=df49af52631e7917044a9c21a57f7b83170a6dd0" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=fade93df149f7c5fedb3ff897f799dc7d283b420" />
    <link rel="stylesheet" type="text/css" href="../_static/hacks.css" />
    
    


<style>
  body {
    --color-code-background: #002b36;
  --color-code-foreground: #839496;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" />
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Pressio 0.12.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Pressio 0.12.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation and Dependencies</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Pressio/pressio">GitHub Repo</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Pressio/pressio/issues">Open an issue/feature req.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpl.html"><code class="docutils literal notranslate"><span class="pre">mpl</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html"><code class="docutils literal notranslate"><span class="pre">utils</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="type_traits.html"><code class="docutils literal notranslate"><span class="pre">type_traits</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="expressions.html"><code class="docutils literal notranslate"><span class="pre">expressions</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="ops.html"><code class="docutils literal notranslate"><span class="pre">ops</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="qr.html"><code class="docutils literal notranslate"><span class="pre">qr</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="linsolvers.html"><code class="docutils literal notranslate"><span class="pre">linear</span> <span class="pre">solvers</span></code></a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="nonlinsolvers.html"><code class="docutils literal notranslate"><span class="pre">nonlinear</span> <span class="pre">solvers</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_system_api.html">Problem APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_nr.html">Newton-Raphson</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_gn.html">Gauss-Newton</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_lm.html">Levenberg-Marquardt</a></li>
<li class="toctree-l2"><a class="reference internal" href="nonlinsolvers_irls.html">Iteratively reweighted least squares</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="ode.html"><code class="docutils literal notranslate"><span class="pre">ode</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="ode_steppers_explicit.html">explicit steppers</a></li>
<li class="toctree-l2"><a class="reference internal" href="ode_steppers_implicit_conttime.html">implicit steppers (continuous-time systems)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ode_steppers_implicit_disctime.html">implicit steppers (discrete-time systems)</a></li>
<li class="toctree-l2"><a class="reference internal" href="ode_advance.html">advancers</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="rom.html"><code class="docutils literal notranslate"><span class="pre">rom</span></code></a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="rom_general.html">General info</a></li>
<li class="toctree-l2"><a class="reference internal" href="rom_fom_apis.html">Full-order model (FOM) adapter API</a></li>
<li class="toctree-l2"><a class="reference internal" href="rom_decoder.html">Decoder</a></li>
<li class="toctree-l2 current has-children current-page"><a class="current reference internal" href="#">Galerkin: high-level details</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="rom_galerkin_default.html">Default problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="rom_galerkin_hypred.html">Hyper-reduced problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="rom_galerkin_masked.html">Masked problem</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="rom_lspg_steady.html">Steady LSPG</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="rom_lspg_default_steady.html">Steady default problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="rom_lspg_hypred_steady.html">Steady hyper-reduced problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="rom_lspg_masked_steady.html">Steady masked problem</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="rom_lspg_unsteady.html">Unsteady LSPG</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="rom_lspg_default.html">Unsteady default problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="rom_lspg_hypred.html">Hyper-reduced problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="rom_lspg_masked.html">Masked problem</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rom_wls.html">WLS</a></li>
<li class="toctree-l2"><a class="reference internal" href="rom_hyperreduction.html">Hyperreduction</a></li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="galerkin-high-level-details">
<h1>Galerkin: high-level details<a class="headerlink" href="#galerkin-high-level-details" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page explains the API for using the pressio Galerkin ROMs.
After reading this, you should understand what a “pressio Galerkin problem” is,
the variants we currently support, and how to use the problem after instantiating it.</p>
<p>If anything is unclear, and/or you have suggestions on how
to improve this page, <a class="reference external" href="https://github.com/Pressio/pressio/issues">open an issue on github</a>.</p>
</div>
<div class="section" id="everything-starts-with-creating-a-problem">
<h2>Everything starts with creating a problem!<a class="headerlink" href="#everything-starts-with-creating-a-problem" title="Permalink to this headline">¶</a></h2>
<p>The main entry point to use the pressio Galerkin ROMs is the problem class.
You create an instance of one of the supported “Galerkin problems” as:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="n">pgal</span>    <span class="o">=</span> <span class="n">pressio</span><span class="o">::</span><span class="n">rom</span><span class="o">::</span><span class="n">galerkin</span><span class="p">;</span>
<span class="k">const</span> <span class="k">auto</span> <span class="n">scheme</span> <span class="o">=</span> <span class="n">pressio</span><span class="o">::</span><span class="n">ode</span><span class="o">::</span><span class="n">StepScheme</span><span class="o">::</span><span class="n">some_value</span><span class="p">;</span>
<span class="k">auto</span> <span class="n">problem</span>      <span class="o">=</span> <span class="n">pgal</span><span class="o">::</span><span class="n">create_</span><span class="o">&lt;</span><span class="n">keywords</span><span class="o">&gt;</span><span class="p">(</span><span class="n">scheme</span><span class="p">,</span> <span class="cm">/* args */</span> <span class="p">);</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;keywords&gt;</span></code> express the variant you want (more below),
<code class="docutils literal notranslate"><span class="pre">some_value</span></code> is an enum value to select the time stepping scheme (e.g.,
explicit Euler, RK4, BDF1, etc), and <code class="docutils literal notranslate"><span class="pre">args</span></code> are the arguments needed which depend on the variant you choose.</p>
<p>We currently offer the following variants:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="rom_galerkin_default.html">Default problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="rom_galerkin_hypred.html">Hyper-reduced problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="rom_galerkin_masked.html">Masked problem</a></li>
</ul>
</div>
</div>
<div class="section" id="problem-class-api">
<h2>Problem class API<a class="headerlink" href="#problem-class-api" title="Permalink to this headline">¶</a></h2>
<p>A Galerkin problem exposes different methods
depending on whether you choose an explicit of implicit scheme.
Below we discuss both scenarios.</p>
<div class="section" id="explicit-case">
<h3>Explicit case<a class="headerlink" href="#explicit-case" title="Permalink to this headline">¶</a></h3>
<p>If you create an explicit Galerkin problem, the problem exposes the following API:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ExplicitGalerkinProblemClass</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">using</span> <span class="n">traits</span> <span class="o">=</span> <span class="cm">/* nested typedef to access the problem's traits */</span><span class="p">;</span>

  <span class="c1">// const ref to the object knowing how to reconstruct a FOM state</span>
  <span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span> <span class="n">fomStateReconstructor</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

  <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">TimeType</span><span class="p">,</span> <span class="k">class</span> <span class="nc">StepCount</span><span class="o">&gt;</span>
  <span class="kt">void</span> <span class="k">operator</span><span class="p">()(</span><span class="n">galerkin_state_type</span> <span class="o">&amp;</span> <span class="n">state</span><span class="p">,</span>
                  <span class="k">const</span> <span class="n">TimeType</span> <span class="n">current_time</span><span class="p">,</span>
                  <span class="k">const</span> <span class="n">TimeType</span> <span class="n">time_step_size_to_use</span><span class="p">,</span>
                  <span class="k">const</span> <span class="n">StepCount</span> <span class="n">step_count</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Main thing to remember:
An explicit Galerkin problem satisfies the <a class="reference external" href="ode_advance.html">steppable concept</a>
(specifically, behaves like an <a class="reference external" href="ode_steppers_explicit.html">explicit stepper</a>).</p>
</div>
<p>If needed, the traits class contains:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">fom_system_type</span><span class="p">;</span>
<span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">scalar_type</span><span class="p">;</span>
<span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">decoder_type</span><span class="p">;</span>
<span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">decoder_jac_type</span><span class="p">;</span>
<span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">galerkin_state_type</span><span class="p">;</span>
<span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">galerkin_velocity_type</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="implicit-case">
<h3>Implicit case<a class="headerlink" href="#implicit-case" title="Permalink to this headline">¶</a></h3>
<p>If you create an implicit Galerkin problem, the problem exposes the following API:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ImplicitGalerkinProblemClass</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
  <span class="k">using</span> <span class="n">traits</span> <span class="o">=</span> <span class="cm">/* nested typedef to access the problem's traits */</span><span class="p">;</span>

  <span class="k">using</span> <span class="n">scalar_type</span>    <span class="o">=</span> <span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">scalar_type</span><span class="p">;</span>
  <span class="k">using</span> <span class="n">state_type</span>     <span class="o">=</span> <span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">galerkin_state_type</span><span class="p">;</span>
  <span class="k">using</span> <span class="n">residual_type</span>  <span class="o">=</span> <span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">galerkin_residual_type</span><span class="p">;</span>
  <span class="k">using</span> <span class="n">jacobian_type</span>  <span class="o">=</span> <span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">galerkin_jacobian_type</span><span class="p">;</span>

  <span class="c1">// const ref to the object knowing how to reconstruct a FOM state</span>
  <span class="k">const</span> <span class="k">auto</span> <span class="o">&amp;</span> <span class="n">fomStateReconstructor</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>

  <span class="k">template</span> <span class="o">&lt;</span><span class="k">class</span> <span class="nc">TimeType</span><span class="p">,</span> <span class="k">class</span> <span class="nc">StepCount</span><span class="p">,</span> <span class="k">class</span> <span class="nc">SolverType</span><span class="o">&gt;</span>
  <span class="kt">void</span> <span class="k">operator</span><span class="p">()(</span><span class="n">galerkin_state_type</span> <span class="o">&amp;</span> <span class="n">state</span><span class="p">,</span>
                  <span class="k">const</span> <span class="n">TimeType</span> <span class="n">current_time</span><span class="p">,</span>
                  <span class="k">const</span> <span class="n">TimeType</span> <span class="n">time_step_size_to_use</span><span class="p">,</span>
                  <span class="k">const</span> <span class="n">StepCount</span> <span class="n">step_count</span><span class="p">,</span>
                  <span class="n">SolverType</span> <span class="o">&amp;</span> <span class="n">solver</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// NOTE: here we reveal a bit of how operator() works.</span>
    <span class="c1">// This is on purpose so that some things below will be more clear.</span>

    <span class="c1">// The operator() has 3 main stages:</span>
    <span class="c1">// 1. we prepare for doing a step by setting/updating what is needed</span>

    <span class="c1">// 2. call solver (which will query operators)</span>
    <span class="n">solver</span><span class="p">.</span><span class="n">solve</span><span class="p">(</span><span class="o">*</span><span class="k">this</span><span class="p">,</span> <span class="n">state</span><span class="p">);</span>

    <span class="c1">// 3. we do some other things to end the step</span>
  <span class="p">}</span>

  <span class="n">residual_type</span> <span class="n">createResidual</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
  <span class="n">jacobian_type</span> <span class="nf">createJacobian</span><span class="p">()</span> <span class="k">const</span><span class="p">;</span>
  <span class="kt">void</span> <span class="nf">residual</span><span class="p">(</span><span class="k">const</span> <span class="n">state_type</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">,</span> <span class="n">residual_type</span> <span class="o">&amp;</span> <span class="n">res</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
  <span class="kt">void</span> <span class="nf">jacobian</span><span class="p">(</span><span class="k">const</span> <span class="n">state_type</span><span class="o">&amp;</span> <span class="n">x</span><span class="p">,</span> <span class="n">jacobian_type</span> <span class="o">&amp;</span> <span class="n">jac</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Main thing to remember:
An implicit Galerkin problem satisfies the <a class="reference external" href="ode_advance.html">steppable concept</a>
(specifically, behaves like an <a class="reference external" href="ode_steppers_implicit.html">implicit stepper</a>).</p>
</div>
<p>The traits contain:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">fom_system_type</span><span class="p">;</span>
<span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">scalar_type</span><span class="p">;</span>
<span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">decoder_type</span><span class="p">;</span>
<span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">decoder_jac_type</span><span class="p">;</span>
<span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">galerkin_state_type</span><span class="p">;</span>
<span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">galerkin_residual_type</span><span class="p">;</span>
<span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">galerkin_jacobian_type</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils"/>
<div class="section" id="how-do-i-use-an-explicit-problem">
<h2>How do I use an EXPLICIT problem?<a class="headerlink" href="#how-do-i-use-an-explicit-problem" title="Permalink to this headline">¶</a></h2>
<p>See the following:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="n">pode</span> <span class="o">=</span> <span class="n">pressio</span><span class="o">::</span><span class="n">ode</span><span class="p">;</span>
<span class="k">namespace</span> <span class="n">pgal</span> <span class="o">=</span> <span class="n">pressio</span><span class="o">::</span><span class="n">rom</span><span class="o">::</span><span class="n">galerkin</span><span class="p">;</span>

<span class="k">const</span> <span class="k">auto</span> <span class="n">scheme</span> <span class="o">=</span> <span class="n">pdoe</span><span class="o">::</span><span class="nl">StepScheme</span><span class="p">:</span><span class="n">ForwardEuler</span><span class="p">;</span>
<span class="k">auto</span> <span class="n">problem</span>      <span class="o">=</span> <span class="n">pgal</span><span class="o">::</span><span class="n">create_default_explicit_problem</span><span class="p">(</span><span class="n">scheme</span><span class="p">,</span> <span class="cm">/* args */</span><span class="p">);</span>

<span class="c1">// we assume a galState exists</span>

<span class="c1">// you can take a single step of the problem</span>
<span class="k">const</span> <span class="kt">double</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">double</span> <span class="n">dt</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">;</span>
<span class="n">problem</span><span class="p">(</span><span class="n">galState</span><span class="p">,</span> <span class="n">currentTime</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

<span class="c1">// or you can define your own stepping loop</span>
<span class="kt">double</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">double</span> <span class="n">dt</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">step</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">step</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="n">step</span><span class="o">++</span><span class="p">){</span>
 <span class="n">problem</span><span class="p">(</span><span class="n">galState</span><span class="p">,</span> <span class="n">currentTime</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
 <span class="n">currentTime</span> <span class="o">+=</span> <span class="n">dt</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// or you can use our own functions to advance the problem</span>
<span class="n">pode</span><span class="o">::</span><span class="n">advance_n_steps</span><span class="p">(</span><span class="n">problem</span><span class="p">,</span> <span class="cm">/* args */</span><span class="p">);</span>

<span class="c1">// or</span>
<span class="n">pode</span><span class="o">::</span><span class="n">advance_n_steps_and_observe</span><span class="p">(</span><span class="n">problem</span><span class="p">,</span> <span class="cm">/* args */</span><span class="p">);</span>

<span class="c1">// or others</span>
</pre></div>
</div>
</div>
<div class="section" id="how-do-i-use-an-implicit-problem">
<h2>How do I use an IMPLICIT problem?<a class="headerlink" href="#how-do-i-use-an-implicit-problem" title="Permalink to this headline">¶</a></h2>
<p>Recall that doing implicit time stepping it is not as simple as explicit.
<a class="reference external" href="ode_steppers_implicit.html">For implicit, in fact, you also need a solver to compute the solution at the next step</a>.
In the case of Galerkin, you can use a Newton-Raphson solver,
because at each step, you are solving a (reduced) system
of equations with as many equations as the number of unknowns.
More specifically, the system you need to solve has as many equations as the
dimensionality of your approximating subspace.
See some sample snippets below:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="n">psolvers</span> <span class="o">=</span> <span class="n">pressio</span><span class="o">::</span><span class="n">nonlinearsolvers</span><span class="p">;</span>
<span class="k">namespace</span> <span class="n">pode</span>     <span class="o">=</span> <span class="n">pressio</span><span class="o">::</span><span class="n">ode</span><span class="p">;</span>
<span class="k">namespace</span> <span class="n">pgal</span>     <span class="o">=</span> <span class="n">pressio</span><span class="o">::</span><span class="n">rom</span><span class="o">::</span><span class="n">galerkin</span><span class="p">;</span>

<span class="k">const</span> <span class="k">auto</span> <span class="n">scheme</span> <span class="o">=</span> <span class="n">pdoe</span><span class="o">::</span><span class="nl">StepScheme</span><span class="p">:</span><span class="n">BDF1</span><span class="p">;</span>
<span class="k">auto</span> <span class="n">problem</span>      <span class="o">=</span> <span class="n">pgal</span><span class="o">::</span><span class="n">create_default_implicit_problem</span><span class="p">(</span><span class="n">scheme</span><span class="p">,</span> <span class="cm">/* args */</span><span class="p">);</span>

<span class="c1">// we assume a galState exists</span>

<span class="c1">// for example, using the pressio solver</span>
<span class="k">auto</span> <span class="n">solver</span> <span class="o">=</span> <span class="n">psolvers</span><span class="o">::</span><span class="n">create_newton_rapshon</span><span class="p">(</span><span class="n">problem</span><span class="p">,</span> <span class="cm">/* args */</span><span class="p">);</span>

<span class="c1">// you can take a single step of the problem</span>
<span class="p">{</span>
  <span class="k">const</span> <span class="kt">double</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="mf">1.5</span><span class="p">;</span>
  <span class="k">const</span> <span class="kt">double</span> <span class="n">dt</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">;</span>
  <span class="n">problem</span><span class="p">(</span><span class="n">galState</span><span class="p">,</span> <span class="n">currentTime</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">solver</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// or you can define your own stepping loop</span>
<span class="p">{</span>
  <span class="kt">double</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">;</span>
  <span class="k">const</span> <span class="kt">double</span> <span class="n">dt</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">step</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">step</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="n">step</span><span class="o">++</span><span class="p">){</span>
   <span class="n">problem</span><span class="p">(</span><span class="n">galState</span><span class="p">,</span> <span class="n">currentTime</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">solver</span><span class="p">);</span>
   <span class="n">currentTime</span> <span class="o">+=</span> <span class="n">dt</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// or you can use our own functions to advance the problem</span>
<span class="n">pode</span><span class="o">::</span><span class="n">advance_n_steps_and_observe</span><span class="p">(</span><span class="n">problem</span><span class="p">,</span> <span class="cm">/* args */</span><span class="p">,</span> <span class="n">solver</span><span class="p">);</span>
</pre></div>
</div>
<div class="section" id="using-a-custom-solver">
<h3>Using a custom solver<a class="headerlink" href="#using-a-custom-solver" title="Permalink to this headline">¶</a></h3>
<p>In the snippet above, we show how to use the pressio
Newton-Raphson solver to solve the Galerkin problem.
If you want to use your own solver, you can do that!
Here we discuss how.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">R_type</span><span class="p">,</span> <span class="k">class</span> <span class="nc">J_type</span><span class="o">&gt;</span>
<span class="k">class</span> <span class="nc">CustomSolver</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
  <span class="n">R_type</span> <span class="n">m_R</span><span class="p">;</span>
  <span class="n">J_type</span> <span class="n">m_J</span><span class="p">;</span>

<span class="k">public</span><span class="o">:</span>
  <span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">ProblemType</span><span class="o">&gt;</span>
  <span class="n">CustomSolver</span><span class="p">(</span><span class="n">ProblemType</span> <span class="o">&amp;</span> <span class="n">system</span><span class="p">)</span>
    <span class="o">:</span> <span class="n">m_R</span><span class="p">(</span><span class="n">system</span><span class="p">.</span><span class="n">createResidual</span><span class="p">()),</span>
      <span class="n">m_J</span><span class="p">(</span><span class="n">system</span><span class="p">.</span><span class="n">createJacobian</span><span class="p">())</span>
  <span class="p">{}</span>

  <span class="k">template</span><span class="o">&lt;</span><span class="k">class</span> <span class="nc">ProblemType</span><span class="p">,</span> <span class="k">class</span> <span class="nc">StateType</span><span class="o">&gt;</span>
  <span class="kt">void</span> <span class="n">solve</span><span class="p">(</span><span class="n">ProblemType</span> <span class="o">&amp;</span> <span class="n">problem</span><span class="p">,</span> <span class="n">StateType</span> <span class="o">&amp;</span> <span class="n">state</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="c1">// the problem object is the instance of the Galerkin problem you chose.</span>
    <span class="c1">// You can compute residual, Jacobian, etc and solve as you wish</span>
    <span class="c1">// for instance, you can do:</span>

    <span class="k">for</span> <span class="p">(</span><span class="cm">/* some loop or whatever your solver needs */</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">problem</span><span class="p">.</span><span class="n">residual</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">m_R</span><span class="p">);</span>
      <span class="n">problem</span><span class="p">.</span><span class="n">jacobian</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">m_J</span><span class="p">);</span>
      <span class="c1">// do something with the residual (m_R) and Jacobian (m_J)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="k">namespace</span> <span class="n">pode</span>     <span class="o">=</span> <span class="n">pressio</span><span class="o">::</span><span class="n">ode</span><span class="p">;</span>
<span class="k">namespace</span> <span class="n">pgal</span>     <span class="o">=</span> <span class="n">pressio</span><span class="o">::</span><span class="n">rom</span><span class="o">::</span><span class="n">galerkin</span><span class="p">;</span>

<span class="k">const</span> <span class="k">auto</span> <span class="n">scheme</span> <span class="o">=</span> <span class="n">pdoe</span><span class="o">::</span><span class="nl">StepScheme</span><span class="p">:</span><span class="n">BDF1</span><span class="p">;</span>
<span class="k">auto</span> <span class="n">problem</span>      <span class="o">=</span> <span class="n">pgal</span><span class="o">::</span><span class="n">create_default_implicit_problem</span><span class="p">(</span><span class="n">scheme</span><span class="p">,</span> <span class="cm">/* args */</span><span class="p">);</span>
<span class="k">using</span> <span class="n">traits</span>      <span class="o">=</span> <span class="k">typename</span> <span class="nc">decltype</span><span class="p">(</span><span class="n">problem</span><span class="p">)</span><span class="o">::</span><span class="nl">traits</span><span class="p">:</span>

<span class="c1">// instantiate your own solver</span>
<span class="c1">// and you can use it like shown above</span>
<span class="k">using</span> <span class="n">gal_R_type</span>  <span class="o">=</span> <span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">galerkin_residual_type</span><span class="p">;</span>
<span class="k">using</span> <span class="n">gal_J_type</span>  <span class="o">=</span> <span class="k">typename</span> <span class="nc">traits</span><span class="o">::</span><span class="n">galerkin_jacobian_type</span><span class="p">;</span>
<span class="n">CustomSolver</span><span class="o">&lt;</span><span class="n">gal_R_type</span><span class="p">,</span> <span class="n">gal_J_type</span><span class="o">&gt;</span> <span class="n">yourSolver</span><span class="p">(</span><span class="n">problem</span><span class="p">);</span>

<span class="c1">// we assume a galState exists</span>

<span class="c1">// you can take a single step of the problem</span>
<span class="p">{</span>
  <span class="k">const</span> <span class="kt">double</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">;</span>
  <span class="k">const</span> <span class="kt">double</span> <span class="n">dt</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">;</span>
  <span class="n">problem</span><span class="p">(</span><span class="n">galState</span><span class="p">,</span> <span class="n">currentTime</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">yourSolver</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// or you can define your own stepping loop</span>
<span class="p">{</span>
  <span class="kt">double</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">;</span>
  <span class="k">const</span> <span class="kt">double</span> <span class="n">dt</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">step</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">step</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="n">step</span><span class="o">++</span><span class="p">){</span>
   <span class="n">problem</span><span class="p">(</span><span class="n">galState</span><span class="p">,</span> <span class="n">currentTime</span><span class="p">,</span> <span class="n">dt</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">yourSolver</span><span class="p">);</span>
   <span class="n">currentTime</span> <span class="o">+=</span> <span class="n">dt</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// or you can use our own functions to advance the problem</span>
<span class="n">pode</span><span class="o">::</span><span class="n">advance_n_steps_and_observe</span><span class="p">(</span><span class="n">problem</span><span class="p">,</span> <span class="cm">/* args */</span><span class="p">,</span> <span class="n">yourSolver</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Pay attention to:
If you need fine-grained access, i.e., you need to make the problem
take a single step (in other words you don’t use our own <code class="docutils literal notranslate"><span class="pre">advance</span></code> methods),
you should <em>always</em> just rely on <code class="docutils literal notranslate"><span class="pre">operator()</span></code>.
To be more explicit, look at this snippet:</p>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// ...</span>
<span class="c1">// assume we have a galState</span>
<span class="k">auto</span> <span class="n">problem</span>      <span class="o">=</span> <span class="n">pgal</span><span class="o">::</span><span class="n">create_default_implicit_problem</span><span class="p">(</span><span class="n">scheme</span><span class="p">,</span> <span class="cm">/* args */</span><span class="p">);</span>
<span class="n">solver</span> <span class="o">=</span> <span class="c1">// create solver somehow</span>

<span class="c1">// !!! You should NOT do this, this is undefined behavior !!!</span>
<span class="n">solver</span><span class="p">.</span><span class="n">solve</span><span class="p">(</span><span class="n">problem</span><span class="p">,</span> <span class="n">galState</span><span class="p">)</span>

<span class="c1">// You should do this:</span>
<span class="n">problem</span><span class="p">(...,</span> <span class="n">solver</span><span class="p">);</span>
<span class="c1">// or, better, rely on (the advance functions do the right thing behind the scenes)</span>
<span class="n">pode</span><span class="o">::</span><span class="n">advance_n_steps_and_observe</span><span class="p">(</span><span class="n">problem</span><span class="p">,</span> <span class="cm">/* args */</span><span class="p">,</span> <span class="n">solver</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils"/>
<div class="section" id="why-does-a-galerkin-problem-behave-like-a-stepper">
<h2>Why does a Galerkin problem behave like a stepper?<a class="headerlink" href="#why-does-a-galerkin-problem-behave-like-a-stepper" title="Permalink to this headline">¶</a></h2>
<p>The answer is that practically speaking, at the lowest-level,
a Galerkin problem can be reduced to simply a “custom” stepper to advance in time.
This is how pressio implements this and the reason why a Galerkin
problem contains a stepper object inside: when you create the
problem, pressio creates the appropriate custom stepper
object that you can use. You don’t need to know how this is done,
or rely on the details, because these are problem- and implementation-dependent,
and we reserve the right to change this in the future.
All you need to know is that a an explicit Galerkin problem behaves like
a an explicit stepper, and an implicit Galerkin problem behaves
like an implicit stepper.</p>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="rom_galerkin_default.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Default problem</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="rom_decoder.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Decoder</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, National Technology &amp; Engineering Solutions of Sandia, LLC (NTESS) |
          Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
          <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            | <a class="muted-link" href="../_sources/components/rom_galerkin.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Galerkin: high-level details</a><ul>
<li><a class="reference internal" href="#everything-starts-with-creating-a-problem">Everything starts with creating a problem!</a></li>
<li><a class="reference internal" href="#problem-class-api">Problem class API</a><ul>
<li><a class="reference internal" href="#explicit-case">Explicit case</a></li>
<li><a class="reference internal" href="#implicit-case">Implicit case</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-do-i-use-an-explicit-problem">How do I use an EXPLICIT problem?</a></li>
<li><a class="reference internal" href="#how-do-i-use-an-implicit-problem">How do I use an IMPLICIT problem?</a><ul>
<li><a class="reference internal" href="#using-a-custom-solver">Using a custom solver</a></li>
</ul>
</li>
<li><a class="reference internal" href="#why-does-a-galerkin-problem-behave-like-a-stepper">Why does a Galerkin problem behave like a stepper?</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    </body>
</html>