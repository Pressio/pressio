

Defined in header\+: {\ttfamily $<$pressio/type\+\_\+traits.\+hpp$>$}

Public namespace\+: {\ttfamily pressio} \hypertarget{md_pages_components_type_traits_autotoc_md142}{}\doxysection{Overview}\label{md_pages_components_type_traits_autotoc_md142}
Provides functionalities for type support and detection. One of the main design features of pressio is that it supports arbitrary types via generic programming and type introspection, but also provides special support for some data types commonly used.

~\newline
\hypertarget{md_pages_components_type_traits_autotoc_md143}{}\doxysection{Traits class}\label{md_pages_components_type_traits_autotoc_md143}
todo\+: finish

One of the most important things inside {\ttfamily type\+\_\+traits} is the {\ttfamily Traits} class\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{namespace }pressio\{}
\DoxyCodeLine{  \textcolor{keyword}{template}<\textcolor{keyword}{class} T, \textcolor{keyword}{class} = \textcolor{keywordtype}{void}> \textcolor{keyword}{struct }Traits;}
\DoxyCodeLine{\}}

\end{DoxyCode}


To understand the purpose and usage of the traits pattern in C++ there are several resources online. Quoting Bjarne Stroustrup\+: "{}Think of a trait as a small object whose main purpose is to carry information used by another object or algorithm to determine \char`\"{}policy\char`\"{} or \char`\"{}implementation details\char`\"{}. Pressio uses specializations of this class to gather {\itshape in a uniform way} compile-\/time information enabling it to reason about types. The key point here is that {\itshape different TPLs use a variety of naming conventions for nested typedefs and related things}, so there is not easy way to access similar information from types of various libraries. This is what motivated us to implement this {\ttfamily type\+\_\+traits} component. We need a standard, uniform way to query types for compile-\/time information. We currently have traits specialized for types of a few TPLs, like Trilinos, Kokkos, Eigen. An example of \href{https://github.com/Pressio/pressio/blob/main/include/pressio/type_traits/traits_vector.hpp}{\texttt{ one such specialization}} (in this case for Eigen) is\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{\textcolor{keyword}{struct }Traits<}
\DoxyCodeLine{  T, ::pressio::mpl::enable\_if\_t<is\_dynamic\_vector\_eigen<T>::value>}
\DoxyCodeLine{  >}
\DoxyCodeLine{\{}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{bool} is\_static = \textcolor{keyword}{false};}
\DoxyCodeLine{  \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{bool} is\_dynamic  = !is\_static;}
\DoxyCodeLine{  \textcolor{keyword}{using} scalar\_type   = \textcolor{keyword}{typename} T::Scalar;}
\DoxyCodeLine{  \textcolor{keyword}{using} size\_type     = \textcolor{keyword}{typename} T::StorageIndex;}
\DoxyCodeLine{  \textcolor{keyword}{using} reference\_type = scalar\_type \&;}
\DoxyCodeLine{  \textcolor{keyword}{using} const\_reference\_type = scalar\_type \textcolor{keyword}{const} \&;}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{comment}{// some other things}}
\DoxyCodeLine{\};}

\end{DoxyCode}


This {\ttfamily Traits} class play a key role when users want to use arbitrary types (i.\+e. types which are not known to presso) and to do so, users shoud specialize this class and make these specialization visibile to pressio to provide information about their generic types. ~\newline


For practical examples of how this class is used, see\+:
\begin{DoxyItemize}
\item \href{md_pages_components_nonlinsolvers_nr.html}{\texttt{ Newton-\/\+Raphson solver}}
\item \href{md_pages_components_ode_steppers_explicit.html}{\texttt{ ode explicit steppers}}
\item \href{md_pages_components_ode_steppers_implicit.html}{\texttt{ ode implicit steppers}}
\end{DoxyItemize}

~\newline
\hypertarget{md_pages_components_type_traits_autotoc_md144}{}\doxysection{Type detection and identification}\label{md_pages_components_type_traits_autotoc_md144}
We support several metafunctions for detecting data types commonly used from existing TPLs. The following list is partial, and more will be added as we continue the development.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Name   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-2}
\endhead
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+static\+\_\+vector\+\_\+eigen;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a static Eigen vector. ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+EIGEN==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+dynamic\+\_\+vector\+\_\+eigen;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a dynamic Eigen vector. ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+EIGEN==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+vector\+\_\+eigen;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a static or dynamic Eigen vector. ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+EIGEN==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+sparse\+\_\+matrix\+\_\+eigen;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a static or dynamic sparse Eigen matrix. ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+EIGEN==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+static\+\_\+dense\+\_\+matrix\+\_\+eigen;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a static dense Eigen matrix. ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+EIGEN==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+dynamic\+\_\+dense\+\_\+matrix\+\_\+eigen;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a dynamic dense Eigen matrix. ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+EIGEN==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+dense\+\_\+matrix\+\_\+eigen;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a static or dynamic dense Eigen matrix. ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+EIGEN==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+dense\+\_\+vector\+\_\+teuchos;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a dense Teuchos vector. ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+TRILINOS==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+dense\+\_\+matrix\+\_\+teuchos;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a dense Teuchos matrix. ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+TRILINOS==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+vector\+\_\+epetra;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is Epetra vector. ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+TRILINOS==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+multi\+\_\+vector\+\_\+epetra;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is an Epetra multi vector. ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+TRILINOS==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+vector\+\_\+tpetra;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a Tpetra vector. ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+TRILINOS==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+multi\+\_\+vector\+\_\+tpetra;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a Tpetra multi vector. ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+TRILINOS==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+vector\+\_\+tpetra\+\_\+block;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a Tpetra-\/block vector. ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+TRILINOS==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+multi\+\_\+vector\+\_\+tpetra\+\_\+block;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a Tpetra-\/block multi vector. ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+TRILINOS==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+static\+\_\+vector\+\_\+kokkos;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a static Kokkos vector (rank-\/1 View). ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+KOKKOS==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+dynamic\+\_\+vector\+\_\+kokkos;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a dynamic Kokkos vector (rank-\/1 View). ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+KOKKOS==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+vector\+\_\+kokkos;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a static or dynamic Kokkos vector (rank-\/1 View). ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+KOKKOS==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+static\+\_\+dense\+\_\+matrix\+\_\+kokkos;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a static dense Kokkos matrix (rank-\/2 View). ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+KOKKOS==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+dynamic\+\_\+dense\+\_\+matrix\+\_\+kokkos;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a dynamic dense Kokkos matrix (rank-\/2 View). ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+KOKKOS==On}    \\\cline{1-2}
{\ttfamily template$<$class T$>$} ~\newline
 {\ttfamily struct is\+\_\+dense\+\_\+matrix\+\_\+kokkos;}   &Provides static member constant {\ttfamily value} equal to {\ttfamily true} ~\newline
 if {\ttfamily T} is a static or dynamic dense Kokkos matrix (rank-\/2 View). ~\newline
 Requires\+: {\ttfamily PRESSIO\+\_\+\+ENABLE\+\_\+\+TPL\+\_\+\+KOKKOS==On}   \\\cline{1-2}
\end{longtabu}
